<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AutoMACE: AI Marketing Content Engine</title>
  <link rel="stylesheet" href="index.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script type="importmap">
    {
      "imports": {
        "@google/genai": "https://esm.sh/@google/genai@^0.14.0"
      }
    }
  </script>
  <script type="module" src="index.tsx"></script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
  <div id="app">
    <header>
      <h1>ðŸŽ¬ AutoMACE</h1>
      <p>Your Autonomous Creative Strategist and Video Generator</p>
    </header>

    <main>
      <section id="setup-view">
        <div class="view-header">
          <h2><span class="step-number">1</span>Define Your Campaign</h2>
          <p>Provide the core details and branding for your ad campaign.</p>
        </div>
        <form id="campaign-form">
          <div class="form-grid">
            <div class="form-group span-2">
              <label for="product-desc">Product Description</label>
              <textarea id="product-desc" name="product-desc" rows="4" placeholder="e.g., A smart coffee mug that keeps your drink at the perfect temperature for hours."></textarea>
            </div>
            <div class="form-group">
              <label for="target-audience">Target Audience</label>
              <input type="text" id="target-audience" name="target-audience" placeholder="e.g., Busy professionals, tech enthusiasts">
            </div>
            <div class="form-group">
              <label for="format">Format / Aspect Ratio</label>
              <select id="format" name="format">
                <option value="9:16">Vertical Video (9:16) - for Reels, TikTok, Shorts</option>
                <option value="1:1">Square Video (1:1) - for Instagram/Facebook Feed</option>
              </select>
            </div>
            <div class="form-group">
              <label for="scenes-wanted">Number of Scenes</label>
              <input type="number" id="scenes-wanted" name="scenes-wanted" value="3" min="2" max="5">
            </div>
            <div class="form-group">
                <label for="watermark-text">Watermark Text (Optional)</label>
                <input type="text" id="watermark-text" name="watermark-text" placeholder="e.g., YourBrandName.com">
            </div>
             <div class="form-group">
              <label for="logo-file">Brand Logo (Required)</label>
              <input type="file" id="logo-file" name="logo-file" accept="image/png, image/jpeg">
            </div>
            <div class="form-group">
              <label for="eleven-api-key">ElevenLabs API Key (Required)</label>
              <input type="password" id="eleven-api-key" name="eleven-api-key" placeholder="Enter your ElevenLabs API key">
            </div>
          </div>
          <button type="submit" id="generate-plan-btn" class="primary-btn">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M440-120v-240h80v240h-80Zm40-320q-17 0-28.5-11.5T440-480q0-17 11.5-28.5T480-520q17 0 28.5 11.5T520-480q0 17-11.5 28.5T480-440Zm0 400Q319-40 209.5-150.5T100-480q0-161 109.5-270.5T480-860q161 0 270.5 109.5T860-480q0 161-109.5 270.5T480-40Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
            Generate Storyboard
          </button>
        </form>
      </section>

      <section id="storyboard-view" class="hidden">
        <div class="view-header">
            <h2><span class="step-number">2</span>Generate Creative Assets</h2>
            <p>Generate images, voiceovers, and videos for each scene. Please proceed in order.</p>
        </div>
        <div id="storyboard-container"></div>
        <div id="post-copy-view" class="hidden">
            <h3>ðŸš€ Your Social Media Post</h3>
            <div id="post-copy-content"></div>
        </div>
        <div class="actions-footer">
            <div id="campaign-readiness" class="campaign-readiness-container"></div>
            <button id="generate-all-images-btn" class="primary-btn">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5-23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm80-80h400v-160L510-600l-140 160-110-120Z"/></svg>
              1. Generate All Images
            </button>
             <button id="generate-all-videos-btn" class="primary-btn" disabled>
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Z"/></svg>
              2. Generate All Videos
            </button>
            <button id="generate-all-vo-btn" class="primary-btn" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M480-400q-50 0-85-35t-35-85v-200q0-50 35-85t85-35q50 0 85 35t35 85v200q0 50-35 85t-85 35ZM320-320v-80h320v80H320Zm160 200q-83 0-141.5-58.5T280-320h80q0 50 35 85t85 35q50 0 85-35t35-85h80q0 83-58.5 141.5T480-120Z"/></svg>
                3. Generate All Voiceovers
            </button>
            <button id="generate-post-copy-btn" class="primary-btn" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t27 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"/></svg>
                4. Generate Post Copy
            </button>
            <button id="preview-btn" class="secondary-btn" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"/></svg>
                Preview Full Ad
            </button>
            <button id="download-btn" class="secondary-btn" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"/></svg>
                Download Full Ad
            </button>
        </div>
      </section>
    </main>
  </div>

  <div id="loader" class="hidden">
    <div class="spinner"></div>
    <p id="loader-message">Generating your marketing plan...</p>
  </div>
  
  <audio id="voiceover-audio-player" class="hidden"></audio>

  <div id="preview-modal" class="hidden">
    <div class="preview-player-container">
        <div class="video-wrapper">
            <video id="scene-video" playsinline></video>
            <div id="text-overlay" class="overlay-text"></div>
            <div id="watermark-overlay" class="overlay-watermark"></div>
            <img id="logo-overlay" class="overlay-logo" src="" alt="Brand Logo">
        </div>
        <div class="preview-controls">
            <p id="scene-indicator">Scene 1 / 3</p>
            <button id="close-preview">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
                Close
            </button>
        </div>
    </div>
  </div>
<script type="module" src="/index.tsx"></script>
</body>
</html>